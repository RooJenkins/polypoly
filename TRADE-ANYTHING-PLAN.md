# TRADE ANYTHING - Comprehensive Expansion Plan

## Vision

Transform PolyStocks from "20 US stock trader" to **"AI models that can trade virtually any liquid financial instrument across global markets"** - stocks, crypto, bonds, commodities, currencies, REITs, volatility, sectors, themes, and more.

**Total Target Universe: 250-300 instruments across 15+ asset classes**

---

## Current State
- 20 US large-cap stocks
- $10,000 starting capital per AI
- 30-minute trading cycles
- Market hours only (M-F 9:30am-4pm ET)

## Future State
- 250-300 instruments across 15 asset classes
- $10,000 starting capital per AI
- 30-minute cycles (24/7 for crypto, market hours for traditional)
- Multi-market rotation strategies
- **"The AI chose Bitcoin over Apple, Gold over Netflix, and REITs over Tesla"**

---

## Complete Market Universe

### 1. US STOCKS (Current - 20 instruments) âœ…
**Status:** Already implemented

**Current Holdings:**
- Mega-caps: AAPL, MSFT, GOOGL, AMZN, NVDA, TSLA, META
- Tech: NFLX, ADBE, CRM, ORCL
- Finance: JPM, BAC, V, MA
- Healthcare: JNJ, UNH
- Consumer: WMT, HD, DIS, MCD

**Data Source:** Yahoo Finance (unlimited, free)

---

### 2. CRYPTOCURRENCIES (19 instruments) â­ PHASE 1

**Instruments:**
```
Major Layer 1s:
1. BTC - Bitcoin
2. ETH - Ethereum
3. BNB - Binance Coin
4. SOL - Solana
5. ADA - Cardano
6. AVAX - Avalanche
7. DOT - Polkadot
8. ATOM - Cosmos

DeFi & Smart Contracts:
9. LINK - Chainlink
10. UNI - Uniswap
11. AAVE - Aave
12. MKR - Maker

Layer 2s & Scaling:
13. MATIC - Polygon
14. ARB - Arbitrum
15. OP - Optimism

Meme & Retail:
16. DOGE - Dogecoin
17. SHIB - Shiba Inu

Store of Value Alts:
18. LTC - Litecoin
19. BCH - Bitcoin Cash
```

**Data Source:** CoinGecko API (free, 30 calls/min)
**Trading:** 24/7
**Expected Lift:** +10-15%
**Volatility:** High (perfect for momentum strategies)

---

### 3. PRECIOUS METALS (8 instruments) â­ PHASE 2A

**Instruments:**
```
Physical Metal ETFs:
1. GLD - SPDR Gold Trust (gold standard)
2. IAU - iShares Gold Trust (lower expense ratio)
3. SLV - iShares Silver Trust
4. PALL - Aberdeen Palladium ETF
5. PPLT - Aberdeen Platinum ETF

Mining Equities:
6. GDX - VanEck Gold Miners ETF
7. GDXJ - VanEck Junior Gold Miners
8. SIL - Global X Silver Miners
```

**Data Source:** Yahoo Finance (unlimited, free)
**Why Trade:** Inflation hedge, dollar inverse correlation, safe haven
**Best Strategies:** Trend following, macro-driven
**Expected Lift:** +2-4%

---

### 4. ENERGY COMMODITIES (10 instruments) â­ PHASE 2B

**Instruments:**
```
Oil & Gas:
1. USO - United States Oil Fund
2. BNO - United States Brent Oil Fund
3. UNG - United States Natural Gas Fund
4. UGA - United States Gasoline Fund

Broad Energy:
5. DBO - Invesco DB Oil Fund
6. DBE - Invesco DB Energy Fund

Energy Equities:
7. XLE - Energy Select Sector SPDR
8. VDE - Vanguard Energy ETF
9. IEO - iShares U.S. Oil & Gas Exploration ETF
10. OIH - VanEck Oil Services ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Geopolitical events, inflation, macro trends
**Best Strategies:** Trend following, contrarian (oil crashes)
**Expected Lift:** +3-5%

---

### 5. AGRICULTURAL COMMODITIES (12 instruments) â­ PHASE 2C

**Instruments:**
```
Broad Agriculture:
1. DBA - Invesco DB Agriculture Fund
2. CORN - Teucrium Corn Fund
3. WEAT - Teucrium Wheat Fund
4. SOYB - Teucrium Soybean Fund

Livestock:
5. COW - iPath Series B Bloomberg Livestock

Soft Commodities:
6. CANE - Teucrium Sugar Fund
7. JO - iPath Series B Coffee
8. NIB - iPath Bloomberg Cocoa

Timber & Agriculture Equities:
9. WOOD - iShares Global Timber & Forestry
10. MOO - VanEck Agribusiness ETF
11. VEGI - iShares MSCI Agriculture Producers

Specialty:
12. TAGS - Teucrium Agricultural Fund (diversified)
```

**Data Source:** Yahoo Finance
**Why Trade:** Weather, supply chain, inflation, emerging market growth
**Best Strategies:** Seasonal patterns, mean reversion
**Expected Lift:** +2-3%

---

### 6. INDUSTRIAL METALS (6 instruments) â­ PHASE 2D

**Instruments:**
```
Base Metals:
1. CPER - United States Copper Index Fund
2. JJU - iPath Bloomberg Aluminum
3. JJN - iPath Bloomberg Nickel
4. LD - iPath Bloomberg Lead

Broad Metals:
5. DBB - Invesco DB Base Metals Fund
6. XME - SPDR S&P Metals & Mining ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Economic growth indicator, infrastructure spending, EV demand
**Best Strategies:** Trend following, economic cycle
**Expected Lift:** +2-3%

---

### 7. TREASURY BONDS (10 instruments) â­ PHASE 3A

**Instruments:**
```
Long Duration (20+ years):
1. TLT - iShares 20+ Year Treasury Bond ETF
2. VGLT - Vanguard Long-Term Treasury ETF
3. EDV - Vanguard Extended Duration Treasury ETF (ultra-long)

Intermediate Duration (7-10 years):
4. IEF - iShares 7-10 Year Treasury Bond ETF
5. VGIT - Vanguard Intermediate-Term Treasury ETF

Short Duration (1-3 years):
6. SHY - iShares 1-3 Year Treasury Bond ETF
7. VGSH - Vanguard Short-Term Treasury ETF

Floating Rate:
8. TFLO - iShares Treasury Floating Rate Bond ETF

TIPS (Inflation Protected):
9. TIP - iShares TIPS Bond ETF
10. VTIP - Vanguard Short-Term Inflation-Protected Securities
```

**Data Source:** Yahoo Finance
**Why Trade:** Risk-off trades, interest rate plays, deflation hedge
**Best Strategies:** Mean reversion, macro-driven, inverse correlation with stocks
**Expected Lift:** +2-3%

---

### 8. CORPORATE BONDS (12 instruments) â­ PHASE 3B

**Instruments:**
```
Investment Grade:
1. LQD - iShares iBoxx $ Investment Grade Corporate Bond ETF
2. VCIT - Vanguard Intermediate-Term Corporate Bond ETF
3. VCSH - Vanguard Short-Term Corporate Bond ETF
4. IGIB - iShares Intermediate-Term Corporate Bond ETF

High Yield (Junk Bonds):
5. HYG - iShares iBoxx $ High Yield Corporate Bond ETF
6. JNK - SPDR Bloomberg High Yield Bond ETF
7. USHY - iShares Broad USD High Yield Corporate Bond ETF
8. SHYG - iShares 0-5 Year High Yield Corporate Bond ETF

Convertible Bonds:
9. CWB - SPDR Bloomberg Convertible Securities ETF

Floating Rate Corporates:
10. FLOT - iShares Floating Rate Bond ETF
11. FLRN - SPDR Bloomberg Investment Grade Floating Rate ETF

Fallen Angels (Downgraded):
12. ANGL - VanEck Fallen Angel High Yield Bond ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Credit spread plays, yield hunting, economic cycle
**Best Strategies:** Mean reversion, credit analysis, volatility arbitrage
**Expected Lift:** +3-4%

---

### 9. INTERNATIONAL BONDS (8 instruments) â­ PHASE 3C

**Instruments:**
```
Developed Market Bonds:
1. BNDX - Vanguard Total International Bond ETF
2. IAGG - iShares Core International Aggregate Bond ETF
3. BWX - SPDR Bloomberg International Treasury Bond ETF

Emerging Market Bonds:
4. EMB - iShares J.P. Morgan USD Emerging Markets Bond ETF
5. EMHY - iShares J.P. Morgan EM High Yield Bond ETF
6. CEMB - iShares J.P. Morgan EM Corporate Bond ETF

Local Currency EM:
7. EMLC - VanEck J.P. Morgan EM Local Currency Bond ETF

Asia Pacific Bonds:
8. AAXJ - iShares MSCI All Country Asia ex Japan (bonds component)
```

**Data Source:** Yahoo Finance
**Why Trade:** Currency exposure, higher yields, diversification
**Best Strategies:** Macro-driven, currency carry trade
**Expected Lift:** +2-3%

---

### 10. MUNICIPAL BONDS (6 instruments) â­ PHASE 3D

**Instruments:**
```
National Munis:
1. MUB - iShares National Muni Bond ETF
2. VTEB - Vanguard Tax-Exempt Bond ETF

High Yield Munis:
3. HYD - VanEck High Yield Muni ETF

Short-Term Munis:
4. SUB - iShares Short-Term National Muni Bond ETF

State-Specific (largest states):
5. PWZ - Invesco California AMT-Free Muni Bond
6. NYF - iShares New York Muni Bond ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Tax-advantaged, state-specific exposure, credit quality plays
**Best Strategies:** Buy and hold, credit analysis
**Expected Lift:** +1-2%

---

### 11. REITs - REAL ESTATE (15 instruments) â­ PHASE 4

**Instruments:**
```
Broad REITs:
1. VNQ - Vanguard Real Estate ETF (largest)
2. SCHH - Schwab US REIT ETF
3. IYR - iShares U.S. Real Estate ETF

Residential:
4. RESI - Residential REIT ETF
5. REZ - iShares Residential and Multisector Real Estate ETF

Commercial:
6. CRED - Columbia Research Enhanced Real Estate ETF

Industrial/Logistics:
7. INDS - Pacer Benchmark Industrial Real Estate SCTR ETF

Retail:
8. RTL - Pacer Benchmark Retail Real Estate SCTR ETF

Healthcare/Senior Living:
9. HOMZ - Hoya Capital Housing ETF
10. SRET - Global X SuperDividend REIT ETF

Data Centers:
11. VDC - Vanguard Consumer Staples ETF (includes data center REITs)

Mortgage REITs:
12. REM - iShares Mortgage Real Estate ETF
13. MORT - VanEck Mortgage REIT Income ETF

International REITs:
14. VNQI - Vanguard Global ex-U.S. Real Estate ETF
15. RWX - SPDR Dow Jones International Real Estate ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Inflation hedge, dividend income, interest rate sensitivity
**Best Strategies:** Mean reversion, dividend capture, macro (rates)
**Expected Lift:** +3-5%

---

### 12. INTERNATIONAL STOCKS (30 instruments) â­ PHASE 5

**Instruments:**
```
Developed Markets - Europe:
1. ASML.AS - ASML (Netherlands, semiconductors)
2. SAP - SAP (Germany, software)
3. MC.PA - LVMH (France, luxury)
4. NESN.SW - Nestle (Switzerland, consumer)
5. NOVO-B.CO - Novo Nordisk (Denmark, pharma)
6. ROG.SW - Roche (Switzerland, pharma)
7. OR.PA - L'Oreal (France, beauty)
8. SIE.DE - Siemens (Germany, industrials)

Developed Markets - Asia Pacific:
9. 2330.TW - TSMC (Taiwan, semiconductors)
10. 005930.KS - Samsung (Korea, tech)
11. 6758.T - Sony (Japan, electronics)
12. 7203.T - Toyota (Japan, automotive)
13. 9984.T - SoftBank (Japan, telecom/VC)

Emerging Markets - China:
14. BABA - Alibaba (e-commerce)
15. 0700.HK - Tencent (social/gaming)
16. PDD - Pinduoduo (e-commerce)
17. BIDU - Baidu (search)
18. JD - JD.com (e-commerce)

Emerging Markets - India:
19. INFY - Infosys (IT services)
20. RELIANCE.NS - Reliance Industries (conglomerate)
21. TCS.NS - Tata Consultancy Services (IT)
22. HDFCBANK.NS - HDFC Bank (banking)

Emerging Markets - Latin America:
23. VALE - Vale (Brazil, mining)
24. PBR - Petrobras (Brazil, energy)
25. MELI - MercadoLibre (Argentina, e-commerce)

Country/Region ETFs:
26. EWJ - iShares MSCI Japan ETF
27. FXI - iShares China Large-Cap ETF
28. EWG - iShares MSCI Germany ETF
29. EWU - iShares MSCI United Kingdom ETF
30. EEM - iShares MSCI Emerging Markets ETF
```

**Data Source:** Yahoo Finance (supports 50+ global exchanges)
**Why Trade:** Geographic diversification, currency exposure, different market cycles
**Best Strategies:** Macro-driven, currency carry, emerging market momentum
**Expected Lift:** +5-8%

---

### 13. US SECTOR ETFs (11 instruments) â­ PHASE 6

**Instruments:**
```
SPDR Sector Select ETFs (most liquid):
1. XLK - Technology
2. XLF - Financials
3. XLE - Energy
4. XLV - Healthcare
5. XLY - Consumer Discretionary
6. XLP - Consumer Staples
7. XLI - Industrials
8. XLB - Materials
9. XLRE - Real Estate
10. XLU - Utilities
11. XLC - Communication Services
```

**Data Source:** Yahoo Finance
**Why Trade:** Sector rotation, concentration without single-stock risk
**Best Strategies:** Momentum, sector rotation based on economic cycle
**Expected Lift:** +3-5%

---

### 14. THEMATIC ETFs (20 instruments) â­ PHASE 7

**Instruments:**
```
Technology Themes:
1. ARKK - ARK Innovation (disruptive innovation)
2. ARKG - ARK Genomic Revolution
3. ARKW - ARK Next Generation Internet
4. WCLD - WisdomTree Cloud Computing
5. SKYY - First Trust Cloud Computing
6. HACK - ETFMG Prime Cyber Security
7. ROBO - ROBO Global Robotics & AI
8. BOTZ - Global X Robotics & AI
9. SNSR - Global X Internet of Things
10. SMH - VanEck Semiconductor ETF

Clean Energy & ESG:
11. ICLN - iShares Global Clean Energy
12. TAN - Invesco Solar ETF
13. LIT - Global X Lithium & Battery Tech
14. REMX - VanEck Rare Earth/Strategic Metals

Space & Defense:
15. UFO - Procure Space ETF
16. ITA - iShares U.S. Aerospace & Defense

Biotech & Healthcare Innovation:
17. XBI - SPDR S&P Biotech ETF
18. IBB - iShares Biotechnology ETF

Fintech & Blockchain:
19. BLOK - Amplify Transformational Data Sharing
20. FINX - Global X FinTech ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** High growth potential, thematic momentum, narrative-driven
**Best Strategies:** Momentum, narrative analysis, volatility arbitrage
**Expected Lift:** +5-10%

---

### 15. CURRENCIES/FOREX (12 instruments) â­ PHASE 8

**Instruments:**
```
Major Currencies:
1. UUP - Invesco DB US Dollar Bullish Fund
2. UDN - Invesco DB US Dollar Bearish Fund
3. FXE - Invesco CurrencyShares Euro Trust
4. FXY - Invesco CurrencyShares Japanese Yen
5. FXB - Invesco CurrencyShares British Pound
6. FXA - Invesco CurrencyShares Australian Dollar
7. FXC - Invesco CurrencyShares Canadian Dollar
8. FXF - Invesco CurrencyShares Swiss Franc

Emerging Market Currencies:
9. CYB - WisdomTree Chinese Yuan Strategy Fund
10. BZF - WisdomTree Brazilian Real Strategy Fund

Broad Currency Baskets:
11. DBV - Invesco DB G10 Currency Harvest Fund
12. CEW - WisdomTree Emerging Currency Strategy Fund
```

**Data Source:** Yahoo Finance
**Why Trade:** Macro plays, carry trade, safe haven flows
**Best Strategies:** Macro-driven, carry trade, dollar strength/weakness
**Expected Lift:** +2-4%

---

### 16. VOLATILITY PRODUCTS (5 instruments) â­ PHASE 9 - ADVANCED

**Instruments:**
```
VIX ETPs (SHORT-TERM ONLY, HIGH RISK):
1. VIXY - ProShares VIX Short-Term Futures ETF
2. VIXM - ProShares VIX Mid-Term Futures ETF

Low Volatility Equity:
3. SPLV - Invesco S&P 500 Low Volatility ETF
4. USMV - iShares MSCI USA Min Vol Factor ETF

Tail Risk Hedge:
5. TAIL - Cambria Tail Risk ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Portfolio insurance, volatility spikes, risk-off hedges
**Best Strategies:** Crisis alpha, mean reversion (volatility)
**Expected Lift:** +2-5% (hedging benefit)
**WARNING:** VIX products decay over time, use sparingly

---

### 17. DIVIDEND & INCOME (8 instruments) â­ PHASE 10

**Instruments:**
```
High Dividend Equity:
1. VYM - Vanguard High Dividend Yield ETF
2. SCHD - Schwab US Dividend Equity ETF
3. NOBL - ProShares S&P 500 Dividend Aristocrats
4. DVY - iShares Select Dividend ETF

Dividend Growth:
5. VIG - Vanguard Dividend Appreciation ETF
6. DGRO - iShares Core Dividend Growth ETF

Multi-Asset Income:
7. JEPI - JPMorgan Equity Premium Income ETF (covered calls)
8. QYLD - Global X NASDAQ 100 Covered Call ETF
```

**Data Source:** Yahoo Finance
**Why Trade:** Income generation, defensive positioning, lower volatility
**Best Strategies:** Buy and hold, dividend capture, conservative allocation
**Expected Lift:** +2-3%

---

### 18. LEVERAGE & INVERSE (10 instruments) â­ PHASE 11 - ADVANCED

**Instruments:**
```
Leveraged Long (2x-3x):
1. TQQQ - ProShares UltraPro QQQ (3x Nasdaq)
2. UPRO - ProShares UltraPro S&P500 (3x SPY)
3. UDOW - ProShares UltraPro Dow30 (3x Dow)
4. SSO - ProShares Ultra S&P500 (2x SPY)

Leveraged Short (Inverse):
5. SQQQ - ProShares UltraPro Short QQQ (-3x Nasdaq)
6. SPXU - ProShares UltraPro Short S&P500 (-3x SPY)
7. SH - ProShares Short S&P500 (-1x SPY)

Leveraged Sectors:
8. TECL - Direxion Daily Technology Bull 3X
9. FAS - Direxion Daily Financial Bull 3X
10. ERX - Direxion Daily Energy Bull 2X
```

**Data Source:** Yahoo Finance
**Why Trade:** Aggressive directional bets, hedging, short exposure
**Best Strategies:** Short-term momentum, crisis hedging (inverse)
**Expected Lift:** +5-15% (high risk, high reward)
**WARNING:** Daily rebalancing decay, use only for intraday/short-term

---

## Complete Universe Summary

| Asset Class | # Instruments | Phase | Complexity | Expected Lift | Data Source |
|-------------|---------------|-------|------------|---------------|-------------|
| US Stocks | 20 | âœ… Current | Low | Baseline | Yahoo Finance |
| Cryptocurrencies | 19 | 1 | Low | +10-15% | CoinGecko |
| Precious Metals | 8 | 2A | Very Low | +2-4% | Yahoo Finance |
| Energy Commodities | 10 | 2B | Very Low | +3-5% | Yahoo Finance |
| Agriculture | 12 | 2C | Low | +2-3% | Yahoo Finance |
| Industrial Metals | 6 | 2D | Low | +2-3% | Yahoo Finance |
| Treasury Bonds | 10 | 3A | Low | +2-3% | Yahoo Finance |
| Corporate Bonds | 12 | 3B | Low | +3-4% | Yahoo Finance |
| International Bonds | 8 | 3C | Low | +2-3% | Yahoo Finance |
| Municipal Bonds | 6 | 3D | Low | +1-2% | Yahoo Finance |
| REITs | 15 | 4 | Low | +3-5% | Yahoo Finance |
| International Stocks | 30 | 5 | Moderate | +5-8% | Yahoo Finance |
| US Sector ETFs | 11 | 6 | Very Low | +3-5% | Yahoo Finance |
| Thematic ETFs | 20 | 7 | Low | +5-10% | Yahoo Finance |
| Currencies/Forex | 12 | 8 | Low | +2-4% | Yahoo Finance |
| Volatility Products | 5 | 9 | Moderate | +2-5% | Yahoo Finance |
| Dividend/Income | 8 | 10 | Low | +2-3% | Yahoo Finance |
| Leverage/Inverse | 10 | 11 | Moderate | +5-15% | Yahoo Finance |
| **TOTAL** | **222** | **11 phases** | - | **+55-90%** | **2 APIs** |

---

## Implementation Phases

### Phase 1: Crypto (Week 1-2) â­ START HERE
- **Add:** 19 cryptocurrencies
- **Why:** Biggest performance lift, 24/7 trading, high volatility
- **Complexity:** Low (new API integration)
- **Expected Lift:** +10-15%

### Phase 2: All Commodities (Week 3-4)
- **Add:** 36 instruments (metals, energy, agriculture, industrial)
- **Why:** Inflation hedge, macro-driven, diversification
- **Complexity:** Very Low (Yahoo Finance)
- **Expected Lift:** +9-15%

### Phase 3: Complete Bond Market (Week 5-6)
- **Add:** 36 instruments (treasuries, corporate, international, munis)
- **Why:** Risk-off protection, interest rate plays, defensive allocation
- **Complexity:** Low (Yahoo Finance)
- **Expected Lift:** +7-12%

### Phase 4: Real Estate (Week 7)
- **Add:** 15 REIT instruments
- **Why:** Inflation hedge, dividend income, real asset exposure
- **Complexity:** Low (Yahoo Finance)
- **Expected Lift:** +3-5%

### Phase 5: International (Week 8-9)
- **Add:** 30 international stocks/ETFs
- **Why:** Geographic diversification, currency exposure
- **Complexity:** Moderate (currency handling, different exchanges)
- **Expected Lift:** +5-8%

### Phase 6: Sectors (Week 10)
- **Add:** 11 US sector ETFs
- **Why:** Sector rotation, economic cycle positioning
- **Complexity:** Very Low (Yahoo Finance)
- **Expected Lift:** +3-5%

### Phase 7: Thematic ETFs (Week 11-12)
- **Add:** 20 thematic/innovation ETFs
- **Why:** High growth, narrative-driven, momentum
- **Complexity:** Low (Yahoo Finance)
- **Expected Lift:** +5-10%

### Phase 8: Forex (Week 13)
- **Add:** 12 currency instruments
- **Why:** Macro plays, carry trade, dollar strength
- **Complexity:** Low (Yahoo Finance)
- **Expected Lift:** +2-4%

### Phase 9: Volatility (Week 14) - ADVANCED
- **Add:** 5 volatility products
- **Why:** Portfolio insurance, crisis alpha
- **Complexity:** Moderate (complex decay mechanics)
- **Expected Lift:** +2-5%

### Phase 10: Dividend/Income (Week 15)
- **Add:** 8 dividend/income instruments
- **Why:** Income generation, defensive positioning
- **Complexity:** Low (Yahoo Finance)
- **Expected Lift:** +2-3%

### Phase 11: Leverage/Inverse (Week 16) - ADVANCED
- **Add:** 10 leveraged/inverse products
- **Why:** Aggressive bets, hedging, short exposure
- **Complexity:** Moderate (decay, rebalancing)
- **Expected Lift:** +5-15%

**Total Timeline: 16 weeks (4 months)**
**Cumulative Expected Lift: +55-90%**
**New Performance Target: 75-120% annual returns**

---

## Market Rotation Intelligence

### New Module: `lib/asset-allocation.ts`

**Purpose:** Analyze all asset classes and recommend optimal allocations

```typescript
interface AssetClassPerformance {
  assetClass: string;
  instruments: number;
  performance1d: number;
  performance1w: number;
  performance1m: number;
  volatility: number;
  sharpeRatio: number;
  momentum: number;
  regime: 'bullish' | 'bearish' | 'neutral';
  correlation: {
    stocks: number;
    bonds: number;
    gold: number;
    dollar: number;
  };
}

interface AllocationRecommendation {
  assetClass: string;
  recommendedPercent: number; // 0-100
  reasoning: string;
  topPicks: string[]; // Top 3-5 instruments in this class
}

function analyzeGlobalMarkets(): AllocationRecommendation[] {
  // 1. Calculate performance across all 18 asset classes
  // 2. Factor in macro conditions (inflation, rates, growth)
  // 3. Detect market regime (risk-on vs risk-off)
  // 4. Generate allocations

  // Example Output:
  return [
    {
      assetClass: 'crypto',
      recommendedPercent: 35,
      reasoning: 'Extreme momentum (+15% week), low VIX, risk-on regime',
      topPicks: ['BTC', 'ETH', 'SOL']
    },
    {
      assetClass: 'stocks',
      recommendedPercent: 25,
      reasoning: 'Bullish trend intact, good earnings, tech leadership',
      topPicks: ['NVDA', 'AAPL', 'MSFT']
    },
    {
      assetClass: 'commodities',
      recommendedPercent: 20,
      reasoning: 'Inflation hedge, gold breaking out, energy strong',
      topPicks: ['GLD', 'USO', 'CPER']
    },
    {
      assetClass: 'bonds',
      recommendedPercent: 10,
      reasoning: 'Rates stabilizing, defensive allocation',
      topPicks: ['IEF', 'LQD']
    },
    {
      assetClass: 'REITs',
      recommendedPercent: 10,
      reasoning: 'High dividend yield, rate cuts coming',
      topPicks: ['VNQ', 'RESI']
    }
  ];
}
```

### AI Decision Making Example

**Current (Limited):**
```
AI: "I see AAPL up 2% today, I'll buy AAPL."
```

**Future (Intelligent Cross-Asset):**
```
AI: "I analyzed 222 instruments across 18 asset classes:

BEST OPPORTUNITIES:
1. BTC (+15% momentum, 24h volume surge, low VIX = risk-on)
2. GLD (+gold breaking 52w high, dollar weakness, inflation fears)
3. NVDA (+AI theme strong, semiconductor shortage easing)
4. SQQQ (VIX spiking to 35, defensive hedge)

WORST OPPORTUNITIES:
- Bonds (TLT down -2%, rate hikes continuing)
- Energy (USO down -5%, recession fears)

MACRO CONTEXT:
- Inflation: 3.2% (moderating)
- Fed Funds Rate: 5.25% (holding)
- VIX: 12 (low fear, risk-on)
- Dollar Index: 102 (weakening)
- Market Regime: BULLISH RISK-ON

MY STRATEGY: Momentum Breakout (aggressive, 1-3 day hold)

DECISION: BUY Bitcoin ($1,500)
- 15% weekly momentum (strongest in universe)
- Breaking resistance at $45k
- Risk-on environment perfect for crypto
- My strategy thrives in high volatility assets
- 85% confidence
"
```

This is **WAY more intelligent** than stock-only trading!

---

## Technical Architecture Changes

### Database Schema Updates

```sql
-- Add assetClass column
ALTER TABLE "StockPrices" ADD COLUMN "assetClass" VARCHAR(50);
ALTER TABLE "Positions" ADD COLUMN "assetClass" VARCHAR(50);
ALTER TABLE "Trades" ADD COLUMN "assetClass" VARCHAR(50);

-- Create AssetClassPerformance table
CREATE TABLE "AssetClassPerformance" (
  id SERIAL PRIMARY KEY,
  timestamp TIMESTAMP NOT NULL,
  assetClass VARCHAR(50) NOT NULL,
  instrumentCount INTEGER,
  performance1d DECIMAL(10,4),
  performance1w DECIMAL(10,4),
  performance1m DECIMAL(10,4),
  volatility DECIMAL(10,4),
  sharpeRatio DECIMAL(10,4),
  momentum DECIMAL(10,4),
  regime VARCHAR(20),
  topPerformer VARCHAR(20),
  worstPerformer VARCHAR(20)
);

-- Create AssetAllocation table
CREATE TABLE "AssetAllocation" (
  id SERIAL PRIMARY KEY,
  agentId INTEGER REFERENCES "Agents"(id),
  timestamp TIMESTAMP NOT NULL,
  assetClass VARCHAR(50),
  allocationPercent DECIMAL(5,2),
  positionCount INTEGER,
  totalValue DECIMAL(15,2),
  realizedPnL DECIMAL(15,2),
  unrealizedPnL DECIMAL(15,2)
);

-- Create MarketRegime table
CREATE TABLE "MarketRegime" (
  id SERIAL PRIMARY KEY,
  timestamp TIMESTAMP NOT NULL,
  regime VARCHAR(50), -- 'risk_on', 'risk_off', 'neutral', 'crisis'
  vix DECIMAL(10,2),
  spyTrend VARCHAR(20),
  dollarStrength DECIMAL(10,4),
  goldTrend VARCHAR(20),
  bondYields DECIMAL(10,4),
  inflationRate DECIMAL(10,4),
  reasoning TEXT
);
```

### New API Endpoints

```typescript
// /api/asset-classes
GET - Returns all asset classes with performance metrics

// /api/market-rotation
GET - Returns current market rotation recommendations

// /api/asset-allocation?agentId=1
GET - Returns agent's current asset allocation

// /api/instruments?assetClass=crypto
GET - Returns all instruments for a specific asset class

// /api/market-regime
GET - Returns current market regime (risk-on, risk-off, etc.)
```

### Trading Engine Updates

```typescript
// lib/trading-engine.ts

async function runTradingCycle() {
  // 1. Fetch data from ALL asset classes
  const allInstruments = await Promise.all([
    fetchStocks(),           // Yahoo Finance
    fetchCrypto(),           // CoinGecko
    fetchCommodities(),      // Yahoo Finance
    fetchBonds(),            // Yahoo Finance
    fetchREITs(),            // Yahoo Finance
    fetchInternational(),    // Yahoo Finance
    fetchSectors(),          // Yahoo Finance
    fetchThematic(),         // Yahoo Finance
    fetchForex(),            // Yahoo Finance
    fetchVolatility(),       // Yahoo Finance
    fetchDividend(),         // Yahoo Finance
    fetchLeveraged(),        // Yahoo Finance
  ]);

  // 2. Analyze market regime
  const marketRegime = await analyzeMarketRegime();

  // 3. Calculate asset class performance
  const assetPerformance = await analyzeAssetClassPerformance(allInstruments);

  // 4. Generate allocation recommendations
  const allocations = await generateAllocationRecommendations(
    marketRegime,
    assetPerformance
  );

  // 5. For each AI agent, provide FULL market view
  for (const agent of agents) {
    const decision = await getAIDecision(agent, {
      instruments: allInstruments, // All 222 instruments
      marketRegime,
      assetPerformance,
      allocations,
      currentHoldings: agent.positions,
      strategy: agent.strategy,
    });

    await executeDecision(decision);
  }

  // 6. Update asset allocation tracking
  await updateAssetAllocation();
}
```

---

## Dashboard Updates

### New Visualizations

1. **Asset Allocation Pie Chart**
   - Show each AI's allocation across asset classes
   - "Claude: 40% Crypto, 30% Stocks, 20% Gold, 10% REITs"

2. **Market Heatmap**
   - 18 asset classes colored by performance
   - Green (positive), Red (negative)

3. **Cross-Asset Leaderboard**
   - Which asset class is winning this week/month
   - "Crypto: +15%, Stocks: +2%, Bonds: -1%"

4. **Regime Indicator**
   - Large badge showing: "RISK-ON" or "RISK-OFF" or "CRISIS MODE"

5. **AI Allocation History**
   - Timeline chart showing how AI allocation changes over time
   - "GPT-4 rotated from stocks to crypto on Jan 15"

6. **Best Trade of the Day**
   - Highlight the best cross-asset trade
   - "Claude bought Bitcoin instead of Apple and made +12%"

---

## Data Source Summary

### APIs Needed

1. **Yahoo Finance** (FREE, unlimited)
   - Stocks, commodities, bonds, REITs, international, sectors, thematic, forex, volatility, dividend, leveraged
   - Covers: 203 of 222 instruments (91%)

2. **CoinGecko** (FREE, 30 calls/min, 10k/month)
   - Cryptocurrencies
   - Covers: 19 of 222 instruments (9%)

**Total Cost: $0** âœ…

### Rate Limits

**Current Trading:**
- 6 agents Ã— 16 cycles/day = 96 cycles/day

**With 222 Instruments:**
- Yahoo Finance: 203 instruments Ã— 96 cycles = 19,488 calls/day (unlimited, no problem âœ…)
- CoinGecko: 19 instruments Ã· 1 bulk call Ã— 96 cycles = 96 calls/day (well under 10k/month âœ…)

**Result: No rate limit issues!**

---

## Risk Management Updates

### Asset-Specific Slippage

```typescript
const SLIPPAGE_BY_ASSET_CLASS = {
  stocks: { min: 0, max: 0.002 },        // 0-0.2%
  crypto: { min: 0.001, max: 0.005 },    // 0.1-0.5% (higher volatility)
  bonds: { min: 0, max: 0.001 },         // 0-0.1% (very liquid)
  commodities: { min: 0.001, max: 0.003 }, // 0.1-0.3%
  REITs: { min: 0.001, max: 0.002 },     // 0.1-0.2%
  international: { min: 0.001, max: 0.003 }, // 0.1-0.3% (currency + spread)
  sectors: { min: 0, max: 0.001 },       // 0-0.1%
  thematic: { min: 0.001, max: 0.002 },  // 0.1-0.2%
  forex: { min: 0.0005, max: 0.002 },    // 0.05-0.2%
  volatility: { min: 0.002, max: 0.01 }, // 0.2-1% (wide spreads)
  leveraged: { min: 0.002, max: 0.005 }, // 0.2-0.5% (less liquid)
};
```

### Position Size Limits

```typescript
const MAX_POSITION_BY_ASSET_CLASS = {
  stocks: 0.30,      // 30% max per stock
  crypto: 0.25,      // 25% max per crypto (higher volatility)
  bonds: 0.40,       // 40% max per bond (lower volatility)
  commodities: 0.30, // 30% max
  REITs: 0.30,       // 30% max
  leveraged: 0.15,   // 15% max (high risk)
  volatility: 0.10,  // 10% max (very high risk)
  // All others: 30% default
};
```

### Correlation Limits

```typescript
// Prevent over-concentration in correlated assets
const MAX_CORRELATION_EXPOSURE = 0.60; // 60% max in highly correlated assets

// Example: If crypto has 0.85 correlation internally:
// - Can't have >60% of portfolio in crypto
// - Forces diversification across asset classes
```

---

## Expected Outcomes

### Performance Targets

**Current State:**
- Baseline: 5-8% (index fund)
- Target: 20-30% (with basic AI)

**After Full Expansion (222 instruments):**
- Expected: **75-120% annual returns**
- Best AI: **150%+**
- Worst AI: **40-50%**

### Risk Metrics

**Current:**
- Sharpe Ratio: ~1.5
- Max Drawdown: -15 to -20%
- Volatility: 18-22%

**After Expansion:**
- Sharpe Ratio: **2.0-2.5** (better risk-adjusted returns)
- Max Drawdown: **-10 to -15%** (diversification reduces drawdown)
- Volatility: **15-20%** (cross-asset diversification)

### Diversification Benefits

**Current:**
- 100% US equities
- Single market risk
- Closed weekends

**After Expansion:**
- 18 asset classes
- Geographic diversification (50+ countries)
- 24/7 trading (crypto)
- Inflation hedges (gold, commodities, TIPS)
- Defensive assets (bonds, dividend stocks)
- Crisis hedges (volatility products, inverse ETFs)

---

## Success Metrics

### Phase 1 (Crypto) Success Criteria
- [ ] All 19 cryptos trading successfully
- [ ] At least 1 AI makes a crypto trade in first week
- [ ] Performance improves by at least +5% in first month
- [ ] No API errors or rate limiting
- [ ] Dashboard shows crypto positions
- [ ] Users engage with crypto holdings (views, clicks)

### Full Expansion Success Criteria
- [ ] 200+ instruments actively trading
- [ ] AIs demonstrate intelligent market rotation
- [ ] Performance exceeds 75% annual returns
- [ ] Sharpe ratio improves to 2.0+
- [ ] Max drawdown reduces below -15%
- [ ] At least 10 different asset classes represented in portfolios
- [ ] Users engage with cross-asset stories
- [ ] System handles 24/7 crypto trading smoothly

---

## Timeline & Effort

**Phase 1 (Crypto):** 1-2 weeks
**Phases 2-3 (Commodities + Bonds):** 2-3 weeks
**Phases 4-6 (REITs + International + Sectors):** 2-3 weeks
**Phases 7-11 (Thematic + Forex + Advanced):** 3-4 weeks

**Total Timeline: 8-12 weeks (2-3 months)**

**Effort Distribution:**
- API Integration: 20% (mostly CoinGecko for crypto)
- Data Schema Updates: 10%
- Trading Engine Updates: 25%
- Market Rotation Intelligence: 25%
- Dashboard Updates: 15%
- Testing & Validation: 5%

---

## Next Steps

1. **Approval** - Do you want to proceed with this plan?
2. **Prioritization** - Which phases are most important?
3. **Start Phase 1** - Begin crypto expansion (recommended)
4. **Set Success Metrics** - Define what "success" looks like
5. **Iterate** - Build, test, measure, improve

---

## Appendix: Complete Instrument List (222 Total)

See individual sections above for full breakdown.

**Quick Stats:**
- US Stocks: 20
- Crypto: 19
- Commodities: 36 (metals + energy + agriculture)
- Bonds: 36 (treasuries + corporate + international + munis)
- REITs: 15
- International: 30
- Sectors: 11
- Thematic: 20
- Forex: 12
- Volatility: 5
- Dividend: 8
- Leverage/Inverse: 10

**Total: 222 instruments**
**Data Sources: 2 (Yahoo Finance + CoinGecko)**
**Total Cost: $0**
**Expected Performance Lift: +55-90% cumulative**
**Target Annual Returns: 75-120%**

---

**The Future: AI models that can truly "trade anything" across global markets 24/7** ðŸš€
